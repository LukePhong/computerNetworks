<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>计网实验2</title><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none 0s ease 0s; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
mark .md-meta { color: rgb(0, 0, 0); opacity: 0.3 !important; }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-require-zoom-fix foreignobject { font-size: var(--mermaid-font-zoom); }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border-top: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

 :root {--mermaid-font-zoom:2.25em ;} 
</style>
</head>
<body class='typora-export os-windows'>
<div id='write'  class=''><h1><a name="计算机网络实验2" class="md-header-anchor"></a><span>计算机网络实验2</span></h1><p><span>姓名：冯朝芃</span><span>	</span><span>学号：2012039</span></p><h2><a name="实验准备" class="md-header-anchor"></a><span>实验准备：</span></h2><h3><a name="网页编写" class="md-header-anchor"></a><span>网页编写：</span></h3><p><span>编写html网页如下所示，包含个人信息文本及jpeg格式图片一张。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="html"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">&lt;!doctype html&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">html</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">head</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">meta</span> <span class="cm-attribute">charset</span>=<span class="cm-string">'UTF-8'</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">meta</span> <span class="cm-attribute">name</span>=<span class="cm-string">'viewport'</span> <span class="cm-attribute">content</span>=<span class="cm-string">'width=device-width initial-scale=1'</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">title</span><span class="cm-tag cm-bracket">&gt;</span>我的网页<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">title</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">head</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">body</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>专业：计算机科学与技术<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>姓名：冯朝芃<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>学号：2012039<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">img</span> <span class="cm-attribute">src</span>=<span class="cm-string">"./xiaohui.jpeg"</span> <span class="cm-attribute">referrerpolicy</span>=<span class="cm-string">"no-referrer"</span> <span class="cm-attribute">alt</span>=<span class="cm-string">"xiaohui"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">body</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">html</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 249px;"></div><div class="CodeMirror-gutters" style="display: none; height: 249px;"></div></div></div></pre><h3><a name="服务器搭建" class="md-header-anchor"></a><span>服务器搭建：</span></h3><p><span>使用Wampserver软件搭建服务器环境，配置Apache2.4服务器，服务端口开放在默认的80端口上。将网页和图片放置于对应的项目文件夹中。</span></p><h2><a name="抓包实验" class="md-header-anchor"></a><span>抓包实验：</span></h2><p><span>使用Wireshark4.0软件进行网络数据包抓取，选择如图所示的抓包选项，监听localhost。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221027193702300.png" referrerpolicy="no-referrer" alt="image-20221027193702300"></p><p><span>抓包开始后，使用IE11浏览器访问自建网站，等待一会使服务器与浏览器断开连接，之后再刷新一次，使浏览器与服务器主动断开连接。浏览器打开页面后效果如图所示。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221027194231068.png" referrerpolicy="no-referrer" alt="image-20221027194231068"></p><p><span>抓包完成后界面如下图所示，从时间上可以很清晰的看到：以0s开头的是三次握手和http请求的数据包，以5s开头的是服务器端超时与浏览器挥手断开连接的数据包，以9s开头的是浏览器刷新网页，与服务器挥手断连的数据包。Wireshark软件也在左侧以灰色线框标注出了一次完整的TCP连接过程。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221027194639464.png" referrerpolicy="no-referrer" alt="image-20221027194639464"></p><p><span>以下按时间顺序分析TCP握手、HTTP请求和响应、TCP挥手的数据包内容。</span></p><h2><a name="tcp握手" class="md-header-anchor"></a><span>TCP握手：</span></h2><p><span>TCP三次握手（Three-Way Handshake）即建立TCP连接，指建立一个TCP连接时，需要客户端和服务端总共发送3个包以确认连接的建立。图示如下。</span></p><p><img src="https://img2020.cnblogs.com/blog/1522016/202110/1522016-20211012160855652-354472173.png" referrerpolicy="no-referrer" alt="截图"></p><p><strong><span>第一次握手：</span></strong><span>Client将标志位SYN置为1，随机产生一个序号seq=J，并将该数据包发送给Server，Client进入SYN_SENT状态，等待Server确认。展示数据包如下。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221027200327434.png" referrerpolicy="no-referrer" alt="image-20221027200327434"></p><p><span>TCP是一种流式协议，而TCP流（TCP STREAM）可以用来形容建连-传输-挥手这个过程，Wireshark也采用了这种说法，故在之后的分析中也采用这种说法。观察图片内容可以看到，这个数据包的随机序列号是279405632，相对于整个流中客户端所发送的数据包是第0个数据包。Flags标志位只有SYN被置1，这说明它是TCP握手中的第一个数据包（第一次握手）——客户端程序向服务器发送建连请求。</span></p><p><span>数据包中还有一些其他信息。如发送端口是5582，目标端口是80，由于本机启用了ipv6，故目标和来源IP都是::1，也就是localhost。此时的确认号是0，因为这个TCP流中没有上一个数据包。该TCP首部的长度是32bytes。</span></p><p><span>可以看到TCP首部中有一个Window Size字段，它其实是接收窗口（滑动窗口）的大小。用来告知发送端自己所能接收的数据量，从而达到一部分流控的目的，与拥塞控制有关。该数据包Window大小为65535（16bits能表示最大值），在下图中我们可以看到option字段有一个缩放系数，这里是8，要左移八位，也就是说接收窗口为</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.098ex" height="2.4ex" viewBox="0 -773.9 13389.3 1033.2" role="img" focusable="false" style="vertical-align: -0.602ex;"><defs><path stroke-width="0" id="E2-MJMAIN-36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path><path stroke-width="0" id="E2-MJMAIN-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path><path stroke-width="0" id="E2-MJMAIN-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path stroke-width="0" id="E2-MJMAIN-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path stroke-width="0" id="E2-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path stroke-width="0" id="E2-MJMAIN-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path stroke-width="0" id="E2-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path stroke-width="0" id="E2-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E2-MJMAIN-37" d="M55 458Q56 460 72 567L88 674Q88 676 108 676H128V672Q128 662 143 655T195 646T364 644H485V605L417 512Q408 500 387 472T360 435T339 403T319 367T305 330T292 284T284 230T278 162T275 80Q275 66 275 52T274 28V19Q270 2 255 -10T221 -22Q210 -22 200 -19T179 0T168 40Q168 198 265 368Q285 400 349 489L395 552H302Q128 552 119 546Q113 543 108 522T98 479L95 458V455H55V458Z"></path><path stroke-width="0" id="E2-MJMAIN-39" d="M352 287Q304 211 232 211Q154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606Q171 666 243 666Q245 666 249 666T257 665H261Q273 665 286 663T323 651T370 619T413 560Q456 472 456 334Q456 194 396 97Q361 41 312 10T208 -22Q147 -22 108 7T68 93T121 149Q143 149 158 135T173 96Q173 78 164 65T148 49T135 44L131 43Q131 41 138 37T164 27T206 22H212Q272 22 313 86Q352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542Q341 552 337 562T323 588T293 615T246 625Q208 625 181 598Q160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z"></path><path stroke-width="0" id="E2-MJMAIN-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path stroke-width="0" id="E2-MJMATHI-62" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path><path stroke-width="0" id="E2-MJMATHI-79" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path><path stroke-width="0" id="E2-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E2-MJMATHI-65" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path><path stroke-width="0" id="E2-MJMATHI-73" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E2-MJMAIN-36"></use><use xlink:href="#E2-MJMAIN-35" x="500" y="0"></use><use xlink:href="#E2-MJMAIN-35" x="1000" y="0"></use><use xlink:href="#E2-MJMAIN-33" x="1500" y="0"></use><use xlink:href="#E2-MJMAIN-35" x="2000" y="0"></use><use xlink:href="#E2-MJMAIN-2217" x="2722" y="0"></use><g transform="translate(3444,0)"><use xlink:href="#E2-MJMAIN-32"></use><use xlink:href="#E2-MJMAIN-35" x="500" y="0"></use><use xlink:href="#E2-MJMAIN-36" x="1000" y="0"></use></g><use xlink:href="#E2-MJMAIN-3D" x="5222" y="0"></use><g transform="translate(6277,0)"><use xlink:href="#E2-MJMAIN-31"></use><use xlink:href="#E2-MJMAIN-36" x="500" y="0"></use></g><use xlink:href="#E2-MJMAIN-2C" x="7277" y="0"></use><g transform="translate(7722,0)"><use xlink:href="#E2-MJMAIN-37"></use><use xlink:href="#E2-MJMAIN-37" x="500" y="0"></use><use xlink:href="#E2-MJMAIN-36" x="1000" y="0"></use></g><use xlink:href="#E2-MJMAIN-2C" x="9222" y="0"></use><g transform="translate(9667,0)"><use xlink:href="#E2-MJMAIN-39"></use><use xlink:href="#E2-MJMAIN-36" x="500" y="0"></use><use xlink:href="#E2-MJMAIN-30" x="1000" y="0"></use></g><use xlink:href="#E2-MJMATHI-62" x="11167" y="0"></use><use xlink:href="#E2-MJMATHI-79" x="11596" y="0"></use><use xlink:href="#E2-MJMATHI-74" x="12093" y="0"></use><use xlink:href="#E2-MJMATHI-65" x="12454" y="0"></use><use xlink:href="#E2-MJMATHI-73" x="12920" y="0"></use></g></svg></span><script type="math/tex">65535*256=16,776,960bytes</script><span>；缩放系数如果以后不调整就固定了。发送方的缩放系数和接收方的乘积因子可以不同，由各自决定，观察后续数据包发现这里两方恰巧是一样的。Window大小是动态调整的，后续我们可以看到很多动态调整的例子。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221027204051297.png" referrerpolicy="no-referrer" alt="image-20221027204051297"></p><p><span>此时ACK为0，事实上TCP规定除了在最初建立连接时候的SYN包之外该位必须设置为1，该位为1时，确认应答的字段为有效。</span></p><p><strong><span>第二次握手：</span></strong><span>Server收到数据包后由标志位SYN=1知道Client请求建立连接，Server将标志位SYN和ACK都置为1，确认号=J+1，随机产生一个序号seq=K，并将该数据包发送给Client以确认连接请求，Server进入SYN_RCVD状态。展示如下。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221027204414179.png" referrerpolicy="no-referrer" alt="image-20221027204414179"></p><p><span>可以看到这个数据包从服务器端80端口发往浏览器5582端口。它的确认号原始值为279405633，是上面提到的J+1，也就是说“279405633-1=279405632被我收到了”。此时服务器生成了一个新的随机的序列号K，3379091500。要注意的，在整个TCP流中，浏览器和服务器各自作为发送端的时候，使用不同的起始序列号，分别为K和J。</span></p><p><span>此时Flags标志位的SYN和ACK都被置1，这说明是第二次握手的数据包。</span></p><p><strong><span>第三次握手：</span></strong><span>Client收到确认后，检查确认号是否为J+1，ACK是否为1，如果正确则将标志位ACK置为1，确认号=K+1，并将该数据包发送给Server，Server检查确认号是否为K+1，ACK是否为1，如果正确则连接建立成功，Client和Server进入ESTABLISHED状态，完成三次握手，随后Client与Server之间可以开始传输数据了。截图如下。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221027205500925.png" referrerpolicy="no-referrer" alt="image-20221027205500925"></p><p><span>注意到客户端发送的此数据包序列号是J+1，确认的是K+1（表示K及之前的被我收到了）。Flags标志位的ACK被置1。Window大小此时为262144bytes，也就是客户端说“我现在最多只能接受262144bytes”。</span></p><p><span>以上三个数据包中的数据段都是没有的。</span></p><p><span>值得注意一点，只是发送ACK并不占用序列号，而序列号一般是跟着要发送的字节走的，可以留意一下，后面的数据包浏览器将从J+1开始发送，服务器将从K+1开始发送。</span></p><h2><a name="http请求和响应" class="md-header-anchor"></a><span>HTTP请求和响应：</span></h2><p><span>1</span></p><p><span>建立连接后，浏览器发送的第一个数据包包含一个HTTP GET请求。截图如下。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221027212015777.png" referrerpolicy="no-referrer" alt="image-20221027212015777"></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221027212035050.png" referrerpolicy="no-referrer" alt="image-20221027212035050"><span>TCP首部部分的序列号为J+1，确认序列号为K+1。Flags字段给出了ACK和PSH，PSH表示接收方应该尽快将这个报文交给应用层。</span></p><p><span>TCP层将HTTP报文放在了TCP数据部分，长度365bytes。</span></p><p><span>HTTP请求报文格式如下：</span></p><p><img src="https://img2020.cnblogs.com/blog/2292815/202101/2292815-20210129203531332-574845882.png" alt="img" style="zoom:50%;" /></p><p><span>请求报文由三部分组成：请求行(request line)、首部行(header line)、实体体(entity body)。</span></p><p><span>请求行有三个字段：方法、URL、HTTP版本</span></p><p><span>（1）方法：可以取不同的值，包括GET、POST、HEAD、PUT和DELETE等。该报文使用GET方法拉取HTML网页。</span></p><p><span>（2）URL：请求对象的标识。这里请求对象标识就是：/mysite/1234.html</span></p><p><span>（3）HTTP版本：这里HTTP版本为1.1。</span></p><p><span>首部行由多组键值对（首部字段名：首部字段值）组成。这里包括：</span></p><p><span>	</span><span>User-Agent：浏览器类型。</span></p><p><span>	</span><span>Host：初始URL中的主机和端口。</span></p><p><span>	</span><span>Accept：浏览器可接受的MIME类型，也就是数据类型信息，这里是text/html, application/xhtml+xml, image/jxr, </span><span>*</span><span>/</span><span>*</span><span>。</span></p><p><span>	</span><span>Accept-Encoding：浏览器能够进行解码的数据编码方式，比如gzip。Servlet能够向支持gzip的浏览器返回经gzip编码的HTML页面。许多情形下这可以减少5到10倍的下载时间。</span></p><p><span>	</span><span>Accept-Language：浏览器所希望的语言种类。</span></p><p><span>	</span><span>Connection：表示是否需要持久连接，这里是HTTP1.1默认就是持久连接。如果Servlet看到这里的值为“Keep-Alive”，或者看到请求使用的是HTTP 1.1（HTTP 1.1默认进行持久连接），它就可以利用持久连接的优点，当页面包含多个元素时（例如Applet，图片），显著地减少下载所需要的时间。要实现这一点，Servlet需要在应答中发送一个Content-Length头，最简单的实现方法是：先把内容写入ByteArrayOutputStream，然后在正式写出内容之前计算它的大小。</span></p><p><span>	</span><span>If-Modified-Since: Wed, 26 Oct 2022 16:44:38 GMT\r\n 这是浏览器缓存中保存的该文件的最后修改时间。浏览器发送HTTP请求时，把If-Modified-Since一起发到服务器去，服务器会把这个时间与服务器上实际文件的最后修改时间进行比较。如果时间一致，那么返回HTTP状态码304（Not Modified），客户端接到之后，直接把本地缓存文件显示到浏览器中。如果时间不一致，就返回HTTP状态码200和新的文件内容，客户端接到之后，会丢弃旧文件，把新文件缓存起来，并显示到浏览器中。</span></p><p><span>	</span><span>If-None-Match: &quot;158-5ebf2bd92f45d&quot;\r\n</span><span>	</span><span>这里记录的是首次发起这个这个请求时服务器返回的Etag，ETag实体标签一般为资源实体的哈希值是服务器生成的一个标记，用来标识返回值是否有变化，Etag的优先级高于Last-Modified。在下一次发起与之前相同的请求时，客户端会同时发送一个If-None-Match，而它的值就是Etag的值。然后，服务器会比对这个客服端发送过来的Etag是否与服务器的相同，如果相同，就将If-None-Match的值设为false，返回状态为304，客户端继续使用本地缓存，不解析服务器返回的数据；如果不相同，就将If-None-Match的值设为true，返回状态为200，客户端重新解析服务器返回的数据。</span></p><p><span>GET方法实体体部分缺省。</span></p><p><span>下一个数据包是服务器对该数据包的响应，其Flags中仅ACK被置一，如下图所示。注意到其序列号为K+1，其确认号为279405998，用这个数字减去J+1的话，正好是要发送的HTTP请求报文的长度，这充分说明序列号衡量的是要发送的信息的长度（而跟TCP首部基本无关）。这里的Window大小再次发生变化，扩大了十倍到10230。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221027230803578.png" referrerpolicy="no-referrer" alt="image-20221027230803578"></p><p><span>2</span></p><p><span>服务器对上一个请求的响应。6号数据包是服务器对上一个GET请求的响应。截图如下。可以看到序列号还是K+1，跟上一个ACK无关。</span></p><p><span>Flags字段增加了PSH。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221027231433760.png" referrerpolicy="no-referrer" alt="image-20221027231433760"></p><p><span>HTTP响应报文格式如下：</span></p><p><img src="https://img2020.cnblogs.com/blog/2292815/202101/2292815-20210129211010745-1411238029.png" alt="img" style="zoom:50%;" /></p><p><span>响应报文同样由三部分组成：状态行(status line)、首部行(header line)、实体体(entity body)。</span></p><p><span>状态行有三个字段：HTTP版本、状态码、状态信息</span></p><p><span>	</span><span>下面列出常见状态码及状态信息</span></p><ul><li><p><span>200  OK：请求成功，信息在返回的响应报文中。</span></p></li><li><p><span>301  Moved Permanently：请求对象被永久转移了，新的URL定义在响应报文的首部行Location中。客户端自动获取新的URL。</span></p></li><li><p><span>404  Not Found：被请求的文档不在服务器上。</span></p></li><li><p><span>505  HTTP Version Not Supported：服务器不支持请求报文使用的HTTP协议版本。</span></p><p><span>这里我们返回的是304，因为之前已经访问过这个网页，而304意味着本地的浏览器缓存是有效的，浏览器可以直接使用缓存，不需要服务器向其传送数据。</span></p></li></ul><p><span>同样的，首部行由多组键值对（首部字段名：首部字段值）组成。</span></p><p><span>	</span><span>Connection：服务器通知客户，发送完报文后是否持续该TCP连接。这里为HTTP1.1默认保持连接。</span></p><p><span>	</span><span>Date：服务器产生并发送该响应报文的日期时间。</span></p><p><span>	</span><span>Server：指明产生响应报文的服务器类型，类似于请求报文首部行中User-agent字段。这里为Apache Web服务器。</span></p><p><span>	</span><span>Keep-Alive: timeout=5, max=100\r\n</span><span>	</span><span>这里设置保活时间是5秒，max是最多一百次请求，强制断掉连接</span></p><p><span>	</span><span>ETag: &quot;158-5ebf2bd92f45d&quot;\r\n</span><span>	</span><span>这里服务器再次返回了请求资源的哈希。</span></p><p><span>实体体部分这里仍然缺省，因为服务器认为浏览器可以使用缓存。</span></p><p><span>7号数据包是浏览器对服务器返回的ACK，截图如下。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221028004533667.png" referrerpolicy="no-referrer" alt="image-20221028004533667"></p><p><span>可以看到，其序列号为279405998，确认号为3379091692，减去K+1正好是上一个报文中HTTP响应报文的长度。</span></p><p><span>3</span></p><p><span>8-11号数据包是浏览器使用GET请求html文档中的图片对象、服务器确认、服务器响应、浏览器确认的过程，与前述类似。</span></p><p><span>此时浏览器在代码中发现一个</span><span>&lt;</span><span>img</span><span>&gt;</span><span>标签引用了一张图片，向服务器发出请求。此时浏览器不会等到图片下载完，而是继续渲染后面的代码。</span></p><p><span>观察下图中的8号数据包，发现其请求的文件已经变为图片文件。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221028005449210.png" referrerpolicy="no-referrer" alt="image-20221028005449210"></p><h2><a name="tcp挥手" class="md-header-anchor"></a><span>TCP挥手：</span></h2><p><span>TCP四次挥手示意图：</span></p><p><img src="https://img-blog.csdnimg.cn/ced5079a99754b818919874184aef926.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6L-3wrflpJzovok=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" style="zoom:50%;" /></p><p><strong><span>第一次挥手：</span></strong>
<span>主动断开方（客户端或服务端）向对方发送一个FIN结束请求报文，并设置序列号和确认号，随后主动断开方进入FIN_WAIT1状态，这表示主动断开方已经没有业务数据要发给对方了，准备关闭SOCKET连接了。</span></p><p><span>分析第12个数据包，首先关注其来源和时间，来源是服务器而时间刚好是5s左右，也就是保活时间超时时。即服务器和浏览器没有进一步通信的内容，这导致服务器主动断开连接，便向浏览器主动发送第一次挥手数据包。截图如下。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221028102239087.png" referrerpolicy="no-referrer" alt="image-20221028102239087"></p><p><span>可见Flags字段，FIN（释放一个连接）和ACK被置1。</span></p><p><strong><span>第二次挥手：</span></strong>
<span>被动断开方收到FIN断开请求后会发送一个ACK响应报文，表明同意断开请求。随后被动断开方就进入CLOSE-WAIT状态（等待关闭状态），此时若被动断开方还有数据要发送给主动方，主动方还会接受。主动方收到ACK报文后，由FIN_WAIT_1转换成FIN_WAIT_2状态。</span></p><p><span>对数据包截图如下，可以看到是被动断开的浏览器对上一个服务器发来的数据包的确认，Flags只有ACK被置1。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221028103108465.png" referrerpolicy="no-referrer" alt="image-20221028103108465"></p><p><strong><span>第三次挥手：</span></strong>
<span>被动断开方的CLOSE-WAIT（等待关闭）结束后，被动方会向主动方发送一个FIN+ACK报文。表示被动方的数据都发完了。然后被动方进入LAST_ACK状态。</span></p><p><span>CLOSE-WAIT实际上是被动断开方用于等待上层应用退出的，上层应用不关闭TCP连接，FIN包就不会发出。这里我们经过一段时间的等待后刷新网页以关闭之前的连接，因而这个数据包发出的时间是9s左右。截图如下</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221028104318490.png" referrerpolicy="no-referrer" alt="image-20221028104318490"></p><p><span>可以看到是被动断开的浏览器发送数据包，Flags中FIN和ACK被置1。</span></p><p><strong><span>第四次挥手：</span></strong>
<span>主动断开方收到FIN+ACK断开响应报文后，还需进行最后确认，向被动方发送一个ACK确认报文，然后主动方进入TIME_WAIT状态，在等待完成2MSL时间后，如果期间没有收到被动方的报文，则证明对方已正常关闭，主动断开方的连接最终关闭。被动方在收到主动方第四次挥手发来的ACK报文后，就关闭了连接。</span></p><p><span>MSL是Maximum Segment Lifetime的英文缩写，可译为“最长报文段寿命”，它是任何报文在网络上存在的最长的最长时间，超过这个时间报文将被丢弃。等待2MSL时间呢的主要原因有两点：</span></p><p><span>    1.为了保证主动断开方发送的最后一个ACK报文段能够到达被动方。这个ACK报文段有可能丢失，被动方收不到这个ACK就会重传已发送的FIN+ACK报文段。</span></p><p><span>   2.经过时间2MSL，就可以使本链接持续时间内所产生的所有报文段都从网络中消失，这样就可以使下一个新的连接中不会出现旧的连接请求报文段。</span></p><p><span>截取数据包如下：是主动方（此为服务器）发送的ACK。</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221028105300814.png" referrerpolicy="no-referrer" alt="image-20221028105300814"></p><p><span>实验完成后，保存Wireshark PCAP文件到本地。</span></p><h2><a name="对比首次打开该网页的情况" class="md-header-anchor"></a><span>对比：首次打开该网页的情况：</span></h2><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221028110028678.png" referrerpolicy="no-referrer" alt="image-20221028110028678"></p><p><span>将浏览器缓存清除后重新打开网页，并抓包记录该过程。发现浏览器和服务器建立了两个连接，这使得传输数据包增多。由于没有任何缓存，所有文件要重新获取，发现HTTP响应报文的状态码为200，数据段为对应的文件或图片，且请求了网站图标。</span></p><p><span>这里还要注意一点，TCP数据包并不能保证一次能回传整个请求的文件或者说任何应用层抽象出来的信息的“分段”。比如这里用到的校徽图片为92KB，注意如下的两个数据包</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221028110938587.png" referrerpolicy="no-referrer" alt="image-20221028110938587"></p><p><span>前一个数据包包含HTTP响应的一部分，两个数据包拼合，其HTTP数据段才是完整的图片信息。Wireshark会将除最后一个分段外之前的不完整分段标记为“TCP segment of a reassembled PDU”。</span></p><p><span>我们用一个体积更大的图片进行测试（55MB）</span></p><p><img src="C:\Users\'Confidence'F\AppData\Roaming\Typora\typora-user-images\image-20221028112016337.png" referrerpolicy="no-referrer" alt="image-20221028112016337"></p><p><span>可以发现这个文件被拆分成了上千个包（因为每个包最大是64KB）。</span></p><p>&nbsp;</p><h2><a name="参考资料" class="md-header-anchor"></a><span>参考资料：</span></h2><p><a href='https://blog.csdn.net/vic_to_ry/article/details/111603584'><span>Wireshark抓包实验</span><em><span>yuminglc的博客-CSDN博客</span></em><span>wireshark抓包实验</span></a></p><p><a href='https://.cnblogs.com/jiannanchun/p/15398343.html'><span>简述TCP的三次握手过程 - 98剑南春 - 博客园 (cnblogs.com)</span></a></p><p><a href='https://.cnblogs.com/mumu-lin/p/15621755.html'><span>HTTP请求和响应详解 - 木木-林 - 博客园 (cnblogs.com)</span></a></p><p><a href='https://blog.csdn.net/Li6682438/article/details/124431638'><span>TCP四次挥手</span><em><span>迷·夜辉的博客-CSDN博客</span></em><span>tcp4次挥手</span></a></p><p>&nbsp;</p><p>&nbsp;</p></div>
</body>
</html>